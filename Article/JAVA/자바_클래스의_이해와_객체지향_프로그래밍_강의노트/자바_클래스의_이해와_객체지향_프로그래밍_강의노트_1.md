# 자바 클래스의 이해와 객체지향 프로그래밍 강의노트 PART 1


## 01. 클래스의 개념


### 객체의 정의

객체의 정의: 물리적인 객체와 개념적인 객체로 나눌 수 있다.


## 클래스

클래스는 객체와 관련된 데이터와 처리동작을 한 데 모은 설계도이다.
클래스는 객체의 설계도가 되는 것이다.


``` java
public class Car {
    int fuel;
    int velocity;

    void doAccel(){
        System.out.println("달려~");
    }
    void doBreak(){
        System.out.println("멈춰~")
    }
}
```


객체와 클래스


## 클래스의 구조

- 클래스를 기술하는 것을 클래스를 정의한다고 한다. 
- 메서드: 객체의 동작을 정의한 것
- 클래스는 객체의 설계도와 같은 것으로, 그 자체는 이용할 수 없다.
- 이용하기 위해서는 설계도를 기초로 실체를 만들어야한다. 
- 클래스가 실체화 되는 것을 오브젝트(객체)라고 하며 , 실제화 하는 작업을 '오브젝트를 생성한다' 또는 '인스턴스화 한다' 등으로 말한다.



## 05. 메모리 모델  

### JVM은 운영체제 위에서 동작한다.
- JVM은 운영체제로부터 할당받은 메모리 공간을 기반으로 자바 프로그램을 실행합니다.
- JVM은 운영체제로부터 할당받은 메모리 공간을 이용해서 자기 자신도 실행하고, 자바 프로그램도 실행을 한다.


### JVM의 메모리 모델
크게 3가지 영역으로 구분된다. 
- 메서드 영역: 메서드의 바이트 코드, static변수
- 스택 영역: 지역변수, 매개변수
- 힙 영역: 인스턴스(객체)


### 바이트코드
- 자바 소스 코드를 가상머신이 이해할 수 있는 중간 코드로 컴파일 한 것.
- 가상머신은 이 바이트코드를 각각의 하드웨어 아키텍쳐에 맞는 기계어로 다시 컴파일함.
- 어셈블리어에 가까운 형태를 띄고 있음.
- 즉 자바 바이트코드는 자바 가상머신에 의해서 실행되는 코드이다.


### 메서드 영역
- 메서드의 자바 바이트코드는 JVM의 메모리 공간중 메서드 영역에 저장됨 
- static으로 선언된 클래스 변수도 메서드 영역에 저장됨
- 이 영역에 저장된 내용은 프로그램 시작 전에 로드되고 프로그램 종료 시 소멸됨

### 스택 영역
[5-1]
- 매개변수, 지역변수가 할당되는 메모리 공간
- 프로그램이 실행되는 도중에 임시로 할당되었다가 바로 이어서 소멸되는 특징이 있는 변수가 할당됨
- 이 영역에 저장된 변수는 해당 변수가 선언된 메서드 종료 시 소멸됨


### 스택의 흐름
- 지역변수는 스택에 할당된다.
- 스택에 할당된 지역변수는 해당 메서드를 빠져 나가면 소멸된다.
- 할당 및 소멸의 특성상 메서드 별 스택이 구분 된다.

### 힙 영역
- 인스턴스(객체)가 생성되는 메모리 공간
- JVM에 의한 GC(Garbage Collection)가 이루어지는 공간
- 할당은 프로그래머가 소멸은 JVM이 자동으로 처리한다.
- 참조변수에 의한 참조가 전혀 이뤄지지 않는 인스턴스가 소멸의 대상이 된다.
- JVM은 인스턴스의 참조관계를 확인하고 소멸할 대상을 선정한다.


### 인스턴스의 소멸 시기

```
public static void sample() {
    String str = new String("My String");
    
    ...
    
    str = null; // 참조 관계 소멸
}
```
- 참조관계가 끊어진 인스턴스는 접근이 불가하므로 가비지 컬렉션의 대상이 된다.


### GC 추가설명
- GC는 한 번도 발생하지 않을 수 있다.
- GC가 발생하면, 소멸의 대상이 되는 인스턴스는 결정되지만 이것이 실제 소멸로 바로 이어지지는 않음
- 인스턴스의 실제 소멸로 이어지지 않은 상태에서 프로그램이 종료될 수 있음
- 어차피 종료되면 OS 차원에서 소멸시킴

System.gc(); // Gargabe Collection을 명령함
System.runFinalization();  // GC에 의해서 소멸 결정된 인스턴스틀 즉시 소멸